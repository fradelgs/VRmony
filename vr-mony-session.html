<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>VR-mony - a platonic solid love experience</title>
    <meta name="description" content="VR-mony - a platonic solid love experience">    
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-teleport-controls@0.3.x/dist/aframe-teleport-controls.min.js"></script>
  	<script src="scripts/vr-mony.js"></script>
  </head>

  <body>
    <a-scene device-orientation-permission-ui="enabled: false">
    <!-- assets -->
        <a-assets>
            <img id="groundTexture" src="https://cdn.aframe.io/a-painter/images/floor.jpg">
            <img id="skyTexture" src="https://cdn.aframe.io/a-painter/images/sky.jpg">
            
            <a-mixin id="cube" geometry="primitive: box" material="color: grey"></a-mixin>
            <a-mixin id="left" position="-3 1.6 -1" sound="src: url(audio/sea-sound-a.mp3); autoplay: true; loop: true; volume: 0"></a-mixin>
            <a-mixin id="right" position="3 1.6 -1" sound="src: url(audio/sea-sound-b.mp3); autoplay: true; loop: true; volume: 0"></a-mixin>
        </a-assets>

    <!-- environment-->
        <a-sky id="background" src="#skyTexture" theta-length="90" radius="30"></a-sky>

        <a-cylinder id="ground" src="#groundTexture" radius="30" height="0.1"></a-cylinder>

    <!-- objects --> 
        <a-octahedron id="octahedronC" class="clickable" color="#FF926B" radius="1" position="0 1.5 0" sound="src: url(audio/lets-get-it-on.m4a); autoplay: true; loop: true; volume: 0" cursor-listener></a-octahedron>
        
        <a-entity id="cubeL" class="clickable" mixin="cube left" cursor-listener>
            <a-animation begin="click" attribute="rotation" from="0 0 0" to="0 0 90" dur="1000" fill="both"></a-animation>
        </a-entity>

        <a-entity id="cubeR" class="not-clickable" mixin="cube right"></a-entity>

    <!-- camera/player -->
        <a-entity id="cameraRig" position="0 0 3">
            <a-entity id="head" camera wasd-controls look-controls><a-cursor></a-cursor></a-entity>
            
            <!-- controllers-->
            <a-entity id="RIGHTcontroller" oculus-touch-controls="hand: right" cursor input-listen laser-controls raycaster="objects: .clickable" raycaster-intersection></a-entity>
            <a-entity id="LEFTcontroller" oculus-touch-controls="hand: left" teleport-controls="cameraRig: #cameraRig; teleportOrigin: #head; type: parabolic; collisionEntities: [mixin='voxel'], #ground; button: trigger" ></a-entity>
        
        </a-entity>
        
    </a-scene>            
  </body>
</html>